(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217eda"],{c98f:function(e,o,t){"use strict";t.r(o);var s=function(){var e=this,o=e._self._c;return o("div",{staticClass:"test"})},n=[],c={name:"socket",data(){return{path:"ws://183.56.204.212:2718/ws/123456",websocket:void 0}},mounted(){this.init()},destroyed(){this.websocket.close()},methods:{init(){try{"undefined"===typeof WebSocket?this.$notify({title:"警告",message:"您的浏览器不支持websocket！",type:"warning"}):(this.websocket=new WebSocket(this.path),this.websocket.onopen=this.onopen,this.websocket.onerror=this.onerror,this.websocket.onmessage=this.onMessage,this.websocket.onclose=this.onclose,this.websocketSend())}catch(e){console.log(e)}},onopen(){console.log("websocket连接成功")},onerror(){console.log("连接错误"),this.reconnect()},onMessage(e){console.log(e,"e")},onclose(){console.log("websocket已经关闭"),this.reconnect()},websocketSend(e){try{setInterval(()=>{this.websocket.send(new Date)},3e3)}catch(o){console.log("send failed ("+o.code+")")}},reconnect(){var e=this;e.lockReconnect||(e.lockReconnect=!0,setTimeout(()=>{console.info("尝试重连..."),e.init(),e.lockReconnect=!1},5e3))}}},i=c,l=t("2877"),r=Object(l["a"])(i,s,n,!1,null,null,null);o["default"]=r.exports}}]);